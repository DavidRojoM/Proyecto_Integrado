<section *ngIf="me$ | async as me">
  <aside class="profile-aside">
    <header class="profile-aside-header">
      <div class="profile-picture-container">
        <img src="{{ me.image }}" alt="My avatar" />
      </div>
      <h2 class="profile-username">{{ me.username | titlecase }}</h2>
    </header>
    <span class="profile-email">{{ me.email }}</span>
  </aside>
  <article class="profile-content-container">
    <header class="profile-title">My Profile</header>
    <div class="profile-content">
      <mat-accordion>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>My nationality</mat-panel-title>
            <mat-panel-description>
              Let people know where you are from
            </mat-panel-description>
          </mat-expansion-panel-header>
          <p>{{ me.nationality }}</p>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> My role </mat-panel-title>
            <mat-panel-description>
              Organize parties to become admin
            </mat-panel-description>
          </mat-expansion-panel-header>
          <p>{{ me.role }}</p>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> My balances </mat-panel-title>
            <mat-panel-description>
              Organize parties to gain free credit
            </mat-panel-description>
          </mat-expansion-panel-header>
          <p>{{ me.balance | currency: 'EUR' }}</p>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> My parties </mat-panel-title>
            <mat-panel-description>
              Your Parties parties to become admin, current or past
            </mat-panel-description>
          </mat-expansion-panel-header>
          <mat-list>
            <mat-list-item *ngFor="let party of me.parties">
              {{ party.name }} {{ party.status | UserStatusPipe }}
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </article>
  <button mat-button class="edit">
    <mat-icon (click)="editProfile(me)">edit</mat-icon>
  </button>
</section>
